'use strict';

describe('routes', function() {
    beforeEach(module('claire'));

    it('should map routes to controllers', function() {
        inject(function($route) {

            expect($route.routes['/'].controller).toBe('ClaireCtrl');
            expect($route.routes['/'].templateUrl).toBe('partials/home.html');

            expect($route.routes['/detail/:drug'].controller).toBe('ClaireCtrl');
            expect($route.routes['/detail/:drug'].templateUrl).toBe('partials/detail.html');

            // otherwise redirect to
            expect($route.routes[null].redirectTo).toBe('/')
        });
    });    
});

describe('controllers', function() {
    beforeEach(module('claire'));

    var DrugInfo;
    var mockDrugListData = ['aspirin', 'claritin', 'benadryl'];
    var mockTweetData = { "percentNegative": 88.4, "percentPositive": 2.8, "percentUnknown": 8.8, "totalTweets": 1990 };
    var mockChartData = {"adverseEvents":[{"date":"2014-01-02T00:00:00-05:00","percentMax":13.0},{"date":"2014-01-03T00:00:00-05:00","percentMax":13.0},{"date":"2014-01-06T00:00:00-05:00","percentMax":51.0},{"date":"2014-01-07T00:00:00-05:00","percentMax":34.0},{"date":"2014-01-08T00:00:00-05:00","percentMax":19.0},{"date":"2014-01-09T00:00:00-05:00","percentMax":8.0},{"date":"2014-01-10T00:00:00-05:00","percentMax":24.0},{"date":"2014-01-12T00:00:00-05:00","percentMax":1.0},{"date":"2014-01-13T00:00:00-05:00","percentMax":19.0},{"date":"2014-01-14T00:00:00-05:00","percentMax":20.0},{"date":"2014-01-15T00:00:00-05:00","percentMax":8.0},{"date":"2014-01-16T00:00:00-05:00","percentMax":32.0},{"date":"2014-01-17T00:00:00-05:00","percentMax":20.0},{"date":"2014-01-20T00:00:00-05:00","percentMax":12.0},{"date":"2014-01-21T00:00:00-05:00","percentMax":14.0},{"date":"2014-01-22T00:00:00-05:00","percentMax":19.0},{"date":"2014-01-23T00:00:00-05:00","percentMax":16.0},{"date":"2014-01-24T00:00:00-05:00","percentMax":24.0},{"date":"2014-01-27T00:00:00-05:00","percentMax":24.0},{"date":"2014-01-28T00:00:00-05:00","percentMax":15.0},{"date":"2014-01-29T00:00:00-05:00","percentMax":22.0},{"date":"2014-01-30T00:00:00-05:00","percentMax":27.0},{"date":"2014-01-31T00:00:00-05:00","percentMax":17.0},{"date":"2014-02-01T00:00:00-05:00","percentMax":1.0},{"date":"2014-02-03T00:00:00-05:00","percentMax":12.0},{"date":"2014-02-04T00:00:00-05:00","percentMax":16.0},{"date":"2014-02-05T00:00:00-05:00","percentMax":31.0},{"date":"2014-02-06T00:00:00-05:00","percentMax":48.0},{"date":"2014-02-07T00:00:00-05:00","percentMax":22.0},{"date":"2014-02-10T00:00:00-05:00","percentMax":16.0},{"date":"2014-02-11T00:00:00-05:00","percentMax":17.0},{"date":"2014-02-12T00:00:00-05:00","percentMax":12.0},{"date":"2014-02-13T00:00:00-05:00","percentMax":30.0},{"date":"2014-02-14T00:00:00-05:00","percentMax":22.0},{"date":"2014-02-17T00:00:00-05:00","percentMax":12.0},{"date":"2014-02-18T00:00:00-05:00","percentMax":23.0},{"date":"2014-02-19T00:00:00-05:00","percentMax":17.0},{"date":"2014-02-20T00:00:00-05:00","percentMax":14.0},{"date":"2014-02-21T00:00:00-05:00","percentMax":31.0},{"date":"2014-02-22T00:00:00-05:00","percentMax":2.0},{"date":"2014-02-24T00:00:00-05:00","percentMax":11.0},{"date":"2014-02-25T00:00:00-05:00","percentMax":17.0},{"date":"2014-02-26T00:00:00-05:00","percentMax":13.0},{"date":"2014-02-27T00:00:00-05:00","percentMax":21.0},{"date":"2014-02-28T00:00:00-05:00","percentMax":38.0},{"date":"2014-03-01T00:00:00-05:00","percentMax":1.0},{"date":"2014-03-02T00:00:00-05:00","percentMax":1.0},{"date":"2014-03-03T00:00:00-05:00","percentMax":111.0},{"date":"2014-03-04T00:00:00-05:00","percentMax":94.0},{"date":"2014-03-05T00:00:00-05:00","percentMax":76.0},{"date":"2014-03-06T00:00:00-05:00","percentMax":174.0},{"date":"2014-03-07T00:00:00-05:00","percentMax":62.0},{"date":"2014-03-08T00:00:00-05:00","percentMax":1.0},{"date":"2014-03-10T00:00:00-04:00","percentMax":48.0},{"date":"2014-03-11T00:00:00-04:00","percentMax":16.0},{"date":"2014-03-12T00:00:00-04:00","percentMax":43.0},{"date":"2014-03-13T00:00:00-04:00","percentMax":27.0},{"date":"2014-03-14T00:00:00-04:00","percentMax":20.0},{"date":"2014-03-15T00:00:00-04:00","percentMax":5.0},{"date":"2014-03-16T00:00:00-04:00","percentMax":2.0},{"date":"2014-03-17T00:00:00-04:00","percentMax":20.0},{"date":"2014-03-18T00:00:00-04:00","percentMax":29.0},{"date":"2014-03-19T00:00:00-04:00","percentMax":30.0},{"date":"2014-03-20T00:00:00-04:00","percentMax":18.0},{"date":"2014-03-21T00:00:00-04:00","percentMax":21.0},{"date":"2014-03-23T00:00:00-04:00","percentMax":1.0},{"date":"2014-03-24T00:00:00-04:00","percentMax":16.0},{"date":"2014-03-25T00:00:00-04:00","percentMax":22.0},{"date":"2014-03-26T00:00:00-04:00","percentMax":25.0},{"date":"2014-03-27T00:00:00-04:00","percentMax":17.0},{"date":"2014-03-28T00:00:00-04:00","percentMax":24.0},{"date":"2014-03-30T00:00:00-04:00","percentMax":1.0},{"date":"2014-03-31T00:00:00-04:00","percentMax":29.0},{"date":"2014-04-01T00:00:00-04:00","percentMax":27.0},{"date":"2014-04-02T00:00:00-04:00","percentMax":18.0},{"date":"2014-04-03T00:00:00-04:00","percentMax":14.0},{"date":"2014-04-04T00:00:00-04:00","percentMax":16.0},{"date":"2014-04-05T00:00:00-04:00","percentMax":2.0},{"date":"2014-04-07T00:00:00-04:00","percentMax":18.0},{"date":"2014-04-08T00:00:00-04:00","percentMax":19.0},{"date":"2014-04-09T00:00:00-04:00","percentMax":14.0},{"date":"2014-04-10T00:00:00-04:00","percentMax":14.0},{"date":"2014-04-11T00:00:00-04:00","percentMax":26.0},{"date":"2014-04-12T00:00:00-04:00","percentMax":1.0},{"date":"2014-04-14T00:00:00-04:00","percentMax":15.0},{"date":"2014-04-15T00:00:00-04:00","percentMax":17.0},{"date":"2014-04-16T00:00:00-04:00","percentMax":16.0},{"date":"2014-04-17T00:00:00-04:00","percentMax":15.0},{"date":"2014-04-18T00:00:00-04:00","percentMax":21.0},{"date":"2014-04-21T00:00:00-04:00","percentMax":28.0},{"date":"2014-04-22T00:00:00-04:00","percentMax":21.0},{"date":"2014-04-23T00:00:00-04:00","percentMax":21.0},{"date":"2014-04-24T00:00:00-04:00","percentMax":26.0},{"date":"2014-04-25T00:00:00-04:00","percentMax":11.0},{"date":"2014-04-27T00:00:00-04:00","percentMax":1.0},{"date":"2014-04-28T00:00:00-04:00","percentMax":23.0},{"date":"2014-04-29T00:00:00-04:00","percentMax":18.0},{"date":"2014-04-30T00:00:00-04:00","percentMax":14.0},{"date":"2014-05-01T00:00:00-04:00","percentMax":21.0},{"date":"2014-05-02T00:00:00-04:00","percentMax":13.0},{"date":"2014-05-05T00:00:00-04:00","percentMax":14.0},{"date":"2014-05-06T00:00:00-04:00","percentMax":23.0},{"date":"2014-05-07T00:00:00-04:00","percentMax":20.0},{"date":"2014-05-08T00:00:00-04:00","percentMax":21.0},{"date":"2014-05-09T00:00:00-04:00","percentMax":26.0},{"date":"2014-05-10T00:00:00-04:00","percentMax":3.0},{"date":"2014-05-12T00:00:00-04:00","percentMax":22.0},{"date":"2014-05-13T00:00:00-04:00","percentMax":17.0},{"date":"2014-05-14T00:00:00-04:00","percentMax":3.0},{"date":"2014-05-15T00:00:00-04:00","percentMax":33.0},{"date":"2014-05-16T00:00:00-04:00","percentMax":6.0},{"date":"2014-05-19T00:00:00-04:00","percentMax":30.0},{"date":"2014-05-20T00:00:00-04:00","percentMax":18.0},{"date":"2014-05-21T00:00:00-04:00","percentMax":16.0},{"date":"2014-05-22T00:00:00-04:00","percentMax":25.0},{"date":"2014-05-23T00:00:00-04:00","percentMax":18.0},{"date":"2014-05-24T00:00:00-04:00","percentMax":2.0},{"date":"2014-05-25T00:00:00-04:00","percentMax":1.0},{"date":"2014-05-26T00:00:00-04:00","percentMax":4.0},{"date":"2014-05-27T00:00:00-04:00","percentMax":17.0},{"date":"2014-05-28T00:00:00-04:00","percentMax":18.0},{"date":"2014-05-29T00:00:00-04:00","percentMax":12.0},{"date":"2014-05-30T00:00:00-04:00","percentMax":121.0},{"date":"2014-06-02T00:00:00-04:00","percentMax":20.0},{"date":"2014-06-03T00:00:00-04:00","percentMax":11.0},{"date":"2014-06-04T00:00:00-04:00","percentMax":16.0},{"date":"2014-06-05T00:00:00-04:00","percentMax":23.0},{"date":"2014-06-06T00:00:00-04:00","percentMax":13.0},{"date":"2014-06-07T00:00:00-04:00","percentMax":3.0},{"date":"2014-06-08T00:00:00-04:00","percentMax":2.0},{"date":"2014-06-09T00:00:00-04:00","percentMax":13.0},{"date":"2014-06-10T00:00:00-04:00","percentMax":18.0},{"date":"2014-06-11T00:00:00-04:00","percentMax":13.0},{"date":"2014-06-12T00:00:00-04:00","percentMax":14.0},{"date":"2014-06-13T00:00:00-04:00","percentMax":21.0},{"date":"2014-06-16T00:00:00-04:00","percentMax":11.0},{"date":"2014-06-17T00:00:00-04:00","percentMax":16.0},{"date":"2014-06-18T00:00:00-04:00","percentMax":27.0},{"date":"2014-06-19T00:00:00-04:00","percentMax":15.0},{"date":"2014-06-20T00:00:00-04:00","percentMax":20.0},{"date":"2014-06-21T00:00:00-04:00","percentMax":1.0},{"date":"2014-06-23T00:00:00-04:00","percentMax":9.0},{"date":"2014-06-24T00:00:00-04:00","percentMax":23.0},{"date":"2014-06-25T00:00:00-04:00","percentMax":19.0},{"date":"2014-06-26T00:00:00-04:00","percentMax":27.0},{"date":"2014-06-27T00:00:00-04:00","percentMax":15.0},{"date":"2014-06-30T00:00:00-04:00","percentMax":13.0}],"negativeTweetSpikes":[{"date":"2014-02-21T00:00:00-05:00","percentMax":41.0},{"date":"2014-03-22T00:00:00-04:00","percentMax":47.0},{"date":"2014-03-27T00:00:00-04:00","percentMax":34.0},{"date":"2014-04-02T00:00:00-04:00","percentMax":61.0},{"date":"2014-04-03T00:00:00-04:00","percentMax":52.0},{"date":"2014-04-09T00:00:00-04:00","percentMax":35.0},{"date":"2014-04-17T00:00:00-04:00","percentMax":37.0},{"date":"2014-04-30T00:00:00-04:00","percentMax":40.0},{"date":"2014-05-01T00:00:00-04:00","percentMax":44.0},{"date":"2014-06-04T00:00:00-04:00","percentMax":64.0},{"date":"2014-06-05T00:00:00-04:00","percentMax":46.0}],"negativeTweets":[{"date":"2014-01-01T00:00:00-05:00","percentMax":4.0},{"date":"2014-01-02T00:00:00-05:00","percentMax":5.0},{"date":"2014-01-03T00:00:00-05:00","percentMax":16.0},{"date":"2014-01-04T00:00:00-05:00","percentMax":4.0},{"date":"2014-01-05T00:00:00-05:00","percentMax":1.0},{"date":"2014-01-06T00:00:00-05:00","percentMax":29.0},{"date":"2014-01-07T00:00:00-05:00","percentMax":11.0},{"date":"2014-01-08T00:00:00-05:00","percentMax":6.0},{"date":"2014-01-09T00:00:00-05:00","percentMax":9.0},{"date":"2014-01-10T00:00:00-05:00","percentMax":2.0},{"date":"2014-01-11T00:00:00-05:00","percentMax":1.0},{"date":"2014-01-12T00:00:00-05:00","percentMax":9.0},{"date":"2014-01-13T00:00:00-05:00","percentMax":9.0},{"date":"2014-01-14T00:00:00-05:00","percentMax":10.0},{"date":"2014-01-15T00:00:00-05:00","percentMax":5.0},{"date":"2014-01-16T00:00:00-05:00","percentMax":12.0},{"date":"2014-01-17T00:00:00-05:00","percentMax":4.0},{"date":"2014-01-18T00:00:00-05:00","percentMax":6.0},{"date":"2014-01-19T00:00:00-05:00","percentMax":3.0},{"date":"2014-01-20T00:00:00-05:00","percentMax":2.0},{"date":"2014-01-21T00:00:00-05:00","percentMax":6.0},{"date":"2014-01-22T00:00:00-05:00","percentMax":1.0},{"date":"2014-01-23T00:00:00-05:00","percentMax":0.0},{"date":"2014-01-24T00:00:00-05:00","percentMax":3.0},{"date":"2014-01-25T00:00:00-05:00","percentMax":4.0},{"date":"2014-01-26T00:00:00-05:00","percentMax":5.0},{"date":"2014-01-27T00:00:00-05:00","percentMax":4.0},{"date":"2014-01-28T00:00:00-05:00","percentMax":3.0},{"date":"2014-01-29T00:00:00-05:00","percentMax":4.0},{"date":"2014-01-30T00:00:00-05:00","percentMax":5.0},{"date":"2014-01-31T00:00:00-05:00","percentMax":4.0},{"date":"2014-02-01T00:00:00-05:00","percentMax":1.0},{"date":"2014-02-02T00:00:00-05:00","percentMax":4.0},{"date":"2014-02-03T00:00:00-05:00","percentMax":5.0},{"date":"2014-02-04T00:00:00-05:00","percentMax":25.0},{"date":"2014-02-05T00:00:00-05:00","percentMax":29.0},{"date":"2014-02-06T00:00:00-05:00","percentMax":4.0},{"date":"2014-02-07T00:00:00-05:00","percentMax":7.0},{"date":"2014-02-08T00:00:00-05:00","percentMax":1.0},{"date":"2014-02-09T00:00:00-05:00","percentMax":2.0},{"date":"2014-02-10T00:00:00-05:00","percentMax":9.0},{"date":"2014-02-11T00:00:00-05:00","percentMax":1.0},{"date":"2014-02-12T00:00:00-05:00","percentMax":2.0},{"date":"2014-02-13T00:00:00-05:00","percentMax":4.0},{"date":"2014-02-14T00:00:00-05:00","percentMax":5.0},{"date":"2014-02-15T00:00:00-05:00","percentMax":8.0},{"date":"2014-02-16T00:00:00-05:00","percentMax":1.0},{"date":"2014-02-17T00:00:00-05:00","percentMax":3.0},{"date":"2014-02-18T00:00:00-05:00","percentMax":2.0},{"date":"2014-02-19T00:00:00-05:00","percentMax":4.0},{"date":"2014-02-20T00:00:00-05:00","percentMax":7.0},{"date":"2014-02-21T00:00:00-05:00","percentMax":41.0},{"date":"2014-02-22T00:00:00-05:00","percentMax":3.0},{"date":"2014-02-23T00:00:00-05:00","percentMax":2.0},{"date":"2014-02-24T00:00:00-05:00","percentMax":10.0},{"date":"2014-02-25T00:00:00-05:00","percentMax":6.0},{"date":"2014-02-26T00:00:00-05:00","percentMax":6.0},{"date":"2014-02-27T00:00:00-05:00","percentMax":3.0},{"date":"2014-02-28T00:00:00-05:00","percentMax":2.0},{"date":"2014-03-01T00:00:00-05:00","percentMax":6.0},{"date":"2014-03-02T00:00:00-05:00","percentMax":5.0},{"date":"2014-03-03T00:00:00-05:00","percentMax":3.0},{"date":"2014-03-04T00:00:00-05:00","percentMax":8.0},{"date":"2014-03-05T00:00:00-05:00","percentMax":2.0},{"date":"2014-03-06T00:00:00-05:00","percentMax":5.0},{"date":"2014-03-07T00:00:00-05:00","percentMax":2.0},{"date":"2014-03-08T00:00:00-05:00","percentMax":1.0},{"date":"2014-03-09T00:00:00-05:00","percentMax":4.0},{"date":"2014-03-10T00:00:00-04:00","percentMax":6.0},{"date":"2014-03-11T00:00:00-04:00","percentMax":4.0},{"date":"2014-03-12T00:00:00-04:00","percentMax":4.0},{"date":"2014-03-13T00:00:00-04:00","percentMax":8.0},{"date":"2014-03-14T00:00:00-04:00","percentMax":22.0},{"date":"2014-03-15T00:00:00-04:00","percentMax":5.0},{"date":"2014-03-16T00:00:00-04:00","percentMax":2.0},{"date":"2014-03-17T00:00:00-04:00","percentMax":5.0},{"date":"2014-03-18T00:00:00-04:00","percentMax":2.0},{"date":"2014-03-19T00:00:00-04:00","percentMax":10.0},{"date":"2014-03-20T00:00:00-04:00","percentMax":12.0},{"date":"2014-03-21T00:00:00-04:00","percentMax":19.0},{"date":"2014-03-22T00:00:00-04:00","percentMax":47.0},{"date":"2014-03-23T00:00:00-04:00","percentMax":6.0},{"date":"2014-03-24T00:00:00-04:00","percentMax":11.0},{"date":"2014-03-25T00:00:00-04:00","percentMax":15.0},{"date":"2014-03-26T00:00:00-04:00","percentMax":31.0},{"date":"2014-03-27T00:00:00-04:00","percentMax":34.0},{"date":"2014-03-28T00:00:00-04:00","percentMax":2.0},{"date":"2014-03-29T00:00:00-04:00","percentMax":10.0},{"date":"2014-03-30T00:00:00-04:00","percentMax":3.0},{"date":"2014-03-31T00:00:00-04:00","percentMax":13.0},{"date":"2014-04-01T00:00:00-04:00","percentMax":23.0},{"date":"2014-04-02T00:00:00-04:00","percentMax":61.0},{"date":"2014-04-03T00:00:00-04:00","percentMax":52.0},{"date":"2014-04-04T00:00:00-04:00","percentMax":12.0},{"date":"2014-04-05T00:00:00-04:00","percentMax":9.0},{"date":"2014-04-06T00:00:00-04:00","percentMax":5.0},{"date":"2014-04-07T00:00:00-04:00","percentMax":30.0},{"date":"2014-04-08T00:00:00-04:00","percentMax":8.0},{"date":"2014-04-09T00:00:00-04:00","percentMax":35.0},{"date":"2014-04-10T00:00:00-04:00","percentMax":7.0},{"date":"2014-04-11T00:00:00-04:00","percentMax":14.0},{"date":"2014-04-12T00:00:00-04:00","percentMax":6.0},{"date":"2014-04-13T00:00:00-04:00","percentMax":10.0},{"date":"2014-04-14T00:00:00-04:00","percentMax":13.0},{"date":"2014-04-15T00:00:00-04:00","percentMax":15.0},{"date":"2014-04-16T00:00:00-04:00","percentMax":17.0},{"date":"2014-04-17T00:00:00-04:00","percentMax":37.0},{"date":"2014-04-18T00:00:00-04:00","percentMax":23.0},{"date":"2014-04-19T00:00:00-04:00","percentMax":17.0},{"date":"2014-04-20T00:00:00-04:00","percentMax":14.0},{"date":"2014-04-21T00:00:00-04:00","percentMax":8.0},{"date":"2014-04-22T00:00:00-04:00","percentMax":6.0},{"date":"2014-04-23T00:00:00-04:00","percentMax":6.0},{"date":"2014-04-24T00:00:00-04:00","percentMax":6.0},{"date":"2014-04-25T00:00:00-04:00","percentMax":13.0},{"date":"2014-04-26T00:00:00-04:00","percentMax":3.0},{"date":"2014-04-27T00:00:00-04:00","percentMax":6.0},{"date":"2014-04-28T00:00:00-04:00","percentMax":8.0},{"date":"2014-04-29T00:00:00-04:00","percentMax":7.0},{"date":"2014-04-30T00:00:00-04:00","percentMax":40.0},{"date":"2014-05-01T00:00:00-04:00","percentMax":44.0},{"date":"2014-05-02T00:00:00-04:00","percentMax":5.0},{"date":"2014-05-03T00:00:00-04:00","percentMax":13.0},{"date":"2014-05-04T00:00:00-04:00","percentMax":9.0},{"date":"2014-05-05T00:00:00-04:00","percentMax":4.0},{"date":"2014-05-06T00:00:00-04:00","percentMax":6.0},{"date":"2014-05-07T00:00:00-04:00","percentMax":4.0},{"date":"2014-05-08T00:00:00-04:00","percentMax":4.0},{"date":"2014-05-09T00:00:00-04:00","percentMax":7.0},{"date":"2014-05-10T00:00:00-04:00","percentMax":8.0},{"date":"2014-05-11T00:00:00-04:00","percentMax":5.0},{"date":"2014-05-12T00:00:00-04:00","percentMax":8.0},{"date":"2014-05-13T00:00:00-04:00","percentMax":5.0},{"date":"2014-05-14T00:00:00-04:00","percentMax":10.0},{"date":"2014-05-15T00:00:00-04:00","percentMax":4.0},{"date":"2014-05-16T00:00:00-04:00","percentMax":7.0},{"date":"2014-05-17T00:00:00-04:00","percentMax":6.0},{"date":"2014-05-18T00:00:00-04:00","percentMax":3.0},{"date":"2014-05-19T00:00:00-04:00","percentMax":8.0},{"date":"2014-05-20T00:00:00-04:00","percentMax":20.0},{"date":"2014-05-21T00:00:00-04:00","percentMax":7.0},{"date":"2014-05-22T00:00:00-04:00","percentMax":4.0},{"date":"2014-05-23T00:00:00-04:00","percentMax":5.0},{"date":"2014-05-24T00:00:00-04:00","percentMax":4.0},{"date":"2014-05-25T00:00:00-04:00","percentMax":4.0},{"date":"2014-05-26T00:00:00-04:00","percentMax":8.0},{"date":"2014-05-27T00:00:00-04:00","percentMax":4.0},{"date":"2014-05-28T00:00:00-04:00","percentMax":5.0},{"date":"2014-05-29T00:00:00-04:00","percentMax":11.0},{"date":"2014-05-30T00:00:00-04:00","percentMax":5.0},{"date":"2014-05-31T00:00:00-04:00","percentMax":4.0},{"date":"2014-06-01T00:00:00-04:00","percentMax":5.0},{"date":"2014-06-02T00:00:00-04:00","percentMax":4.0},{"date":"2014-06-03T00:00:00-04:00","percentMax":4.0},{"date":"2014-06-04T00:00:00-04:00","percentMax":64.0},{"date":"2014-06-05T00:00:00-04:00","percentMax":46.0},{"date":"2014-06-06T00:00:00-04:00","percentMax":12.0},{"date":"2014-06-07T00:00:00-04:00","percentMax":11.0},{"date":"2014-06-08T00:00:00-04:00","percentMax":17.0},{"date":"2014-06-09T00:00:00-04:00","percentMax":23.0},{"date":"2014-06-10T00:00:00-04:00","percentMax":13.0},{"date":"2014-06-11T00:00:00-04:00","percentMax":11.0},{"date":"2014-06-12T00:00:00-04:00","percentMax":6.0},{"date":"2014-06-13T00:00:00-04:00","percentMax":5.0},{"date":"2014-06-14T00:00:00-04:00","percentMax":6.0},{"date":"2014-06-15T00:00:00-04:00","percentMax":2.0},{"date":"2014-06-16T00:00:00-04:00","percentMax":3.0},{"date":"2014-06-17T00:00:00-04:00","percentMax":5.0},{"date":"2014-06-18T00:00:00-04:00","percentMax":6.0},{"date":"2014-06-19T00:00:00-04:00","percentMax":1.0},{"date":"2014-06-20T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-21T00:00:00-04:00","percentMax":8.0},{"date":"2014-06-22T00:00:00-04:00","percentMax":2.0},{"date":"2014-06-23T00:00:00-04:00","percentMax":5.0},{"date":"2014-06-24T00:00:00-04:00","percentMax":24.0},{"date":"2014-06-25T00:00:00-04:00","percentMax":5.0},{"date":"2014-06-26T00:00:00-04:00","percentMax":5.0},{"date":"2014-06-27T00:00:00-04:00","percentMax":1.0},{"date":"2014-06-28T00:00:00-04:00","percentMax":16.0},{"date":"2014-06-29T00:00:00-04:00","percentMax":1.0},{"date":"2014-06-30T00:00:00-04:00","percentMax":5.0}],"positiveTweetSpikes":[],"positiveTweets":[{"date":"2014-01-01T00:00:00-05:00","percentMax":0.0},{"date":"2014-01-02T00:00:00-05:00","percentMax":0.0},{"date":"2014-01-03T00:00:00-05:00","percentMax":1.0},{"date":"2014-01-04T00:00:00-05:00","percentMax":0.0},{"date":"2014-01-05T00:00:00-05:00","percentMax":0.0},{"date":"2014-01-06T00:00:00-05:00","percentMax":0.0},{"date":"2014-01-07T00:00:00-05:00","percentMax":0.0},{"date":"2014-01-08T00:00:00-05:00","percentMax":0.0},{"date":"2014-01-09T00:00:00-05:00","percentMax":1.0},{"date":"2014-01-10T00:00:00-05:00","percentMax":0.0},{"date":"2014-01-11T00:00:00-05:00","percentMax":0.0},{"date":"2014-01-12T00:00:00-05:00","percentMax":0.0},{"date":"2014-01-13T00:00:00-05:00","percentMax":1.0},{"date":"2014-01-14T00:00:00-05:00","percentMax":1.0},{"date":"2014-01-15T00:00:00-05:00","percentMax":0.0},{"date":"2014-01-16T00:00:00-05:00","percentMax":1.0},{"date":"2014-01-17T00:00:00-05:00","percentMax":0.0},{"date":"2014-01-18T00:00:00-05:00","percentMax":1.0},{"date":"2014-01-19T00:00:00-05:00","percentMax":0.0},{"date":"2014-01-20T00:00:00-05:00","percentMax":0.0},{"date":"2014-01-21T00:00:00-05:00","percentMax":0.0},{"date":"2014-01-22T00:00:00-05:00","percentMax":0.0},{"date":"2014-01-23T00:00:00-05:00","percentMax":0.0},{"date":"2014-01-24T00:00:00-05:00","percentMax":0.0},{"date":"2014-01-25T00:00:00-05:00","percentMax":1.0},{"date":"2014-01-26T00:00:00-05:00","percentMax":0.0},{"date":"2014-01-27T00:00:00-05:00","percentMax":1.0},{"date":"2014-01-28T00:00:00-05:00","percentMax":1.0},{"date":"2014-01-29T00:00:00-05:00","percentMax":2.0},{"date":"2014-01-30T00:00:00-05:00","percentMax":0.0},{"date":"2014-01-31T00:00:00-05:00","percentMax":2.0},{"date":"2014-02-01T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-02T00:00:00-05:00","percentMax":1.0},{"date":"2014-02-03T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-04T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-05T00:00:00-05:00","percentMax":1.0},{"date":"2014-02-06T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-07T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-08T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-09T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-10T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-11T00:00:00-05:00","percentMax":1.0},{"date":"2014-02-12T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-13T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-14T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-15T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-16T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-17T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-18T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-19T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-20T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-21T00:00:00-05:00","percentMax":1.0},{"date":"2014-02-22T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-23T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-24T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-25T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-26T00:00:00-05:00","percentMax":1.0},{"date":"2014-02-27T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-28T00:00:00-05:00","percentMax":1.0},{"date":"2014-03-01T00:00:00-05:00","percentMax":0.0},{"date":"2014-03-02T00:00:00-05:00","percentMax":0.0},{"date":"2014-03-03T00:00:00-05:00","percentMax":0.0},{"date":"2014-03-04T00:00:00-05:00","percentMax":0.0},{"date":"2014-03-05T00:00:00-05:00","percentMax":0.0},{"date":"2014-03-06T00:00:00-05:00","percentMax":0.0},{"date":"2014-03-07T00:00:00-05:00","percentMax":0.0},{"date":"2014-03-08T00:00:00-05:00","percentMax":0.0},{"date":"2014-03-09T00:00:00-05:00","percentMax":0.0},{"date":"2014-03-10T00:00:00-04:00","percentMax":0.0},{"date":"2014-03-11T00:00:00-04:00","percentMax":0.0},{"date":"2014-03-12T00:00:00-04:00","percentMax":1.0},{"date":"2014-03-13T00:00:00-04:00","percentMax":1.0},{"date":"2014-03-14T00:00:00-04:00","percentMax":1.0},{"date":"2014-03-15T00:00:00-04:00","percentMax":0.0},{"date":"2014-03-16T00:00:00-04:00","percentMax":0.0},{"date":"2014-03-17T00:00:00-04:00","percentMax":2.0},{"date":"2014-03-18T00:00:00-04:00","percentMax":0.0},{"date":"2014-03-19T00:00:00-04:00","percentMax":0.0},{"date":"2014-03-20T00:00:00-04:00","percentMax":0.0},{"date":"2014-03-21T00:00:00-04:00","percentMax":1.0},{"date":"2014-03-22T00:00:00-04:00","percentMax":1.0},{"date":"2014-03-23T00:00:00-04:00","percentMax":1.0},{"date":"2014-03-24T00:00:00-04:00","percentMax":0.0},{"date":"2014-03-25T00:00:00-04:00","percentMax":0.0},{"date":"2014-03-26T00:00:00-04:00","percentMax":1.0},{"date":"2014-03-27T00:00:00-04:00","percentMax":0.0},{"date":"2014-03-28T00:00:00-04:00","percentMax":0.0},{"date":"2014-03-29T00:00:00-04:00","percentMax":0.0},{"date":"2014-03-30T00:00:00-04:00","percentMax":0.0},{"date":"2014-03-31T00:00:00-04:00","percentMax":0.0},{"date":"2014-04-01T00:00:00-04:00","percentMax":0.0},{"date":"2014-04-02T00:00:00-04:00","percentMax":1.0},{"date":"2014-04-03T00:00:00-04:00","percentMax":1.0},{"date":"2014-04-04T00:00:00-04:00","percentMax":0.0},{"date":"2014-04-05T00:00:00-04:00","percentMax":0.0},{"date":"2014-04-06T00:00:00-04:00","percentMax":0.0},{"date":"2014-04-07T00:00:00-04:00","percentMax":0.0},{"date":"2014-04-08T00:00:00-04:00","percentMax":1.0},{"date":"2014-04-09T00:00:00-04:00","percentMax":0.0},{"date":"2014-04-10T00:00:00-04:00","percentMax":0.0},{"date":"2014-04-11T00:00:00-04:00","percentMax":0.0},{"date":"2014-04-12T00:00:00-04:00","percentMax":0.0},{"date":"2014-04-13T00:00:00-04:00","percentMax":0.0},{"date":"2014-04-14T00:00:00-04:00","percentMax":0.0},{"date":"2014-04-15T00:00:00-04:00","percentMax":0.0},{"date":"2014-04-16T00:00:00-04:00","percentMax":0.0},{"date":"2014-04-17T00:00:00-04:00","percentMax":0.0},{"date":"2014-04-18T00:00:00-04:00","percentMax":0.0},{"date":"2014-04-19T00:00:00-04:00","percentMax":0.0},{"date":"2014-04-20T00:00:00-04:00","percentMax":1.0},{"date":"2014-04-21T00:00:00-04:00","percentMax":0.0},{"date":"2014-04-22T00:00:00-04:00","percentMax":0.0},{"date":"2014-04-23T00:00:00-04:00","percentMax":0.0},{"date":"2014-04-24T00:00:00-04:00","percentMax":0.0},{"date":"2014-04-25T00:00:00-04:00","percentMax":0.0},{"date":"2014-04-26T00:00:00-04:00","percentMax":1.0},{"date":"2014-04-27T00:00:00-04:00","percentMax":0.0},{"date":"2014-04-28T00:00:00-04:00","percentMax":1.0},{"date":"2014-04-29T00:00:00-04:00","percentMax":0.0},{"date":"2014-04-30T00:00:00-04:00","percentMax":2.0},{"date":"2014-05-01T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-02T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-03T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-04T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-05T00:00:00-04:00","percentMax":1.0},{"date":"2014-05-06T00:00:00-04:00","percentMax":1.0},{"date":"2014-05-07T00:00:00-04:00","percentMax":1.0},{"date":"2014-05-08T00:00:00-04:00","percentMax":1.0},{"date":"2014-05-09T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-10T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-11T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-12T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-13T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-14T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-15T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-16T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-17T00:00:00-04:00","percentMax":1.0},{"date":"2014-05-18T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-19T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-20T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-21T00:00:00-04:00","percentMax":1.0},{"date":"2014-05-22T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-23T00:00:00-04:00","percentMax":1.0},{"date":"2014-05-24T00:00:00-04:00","percentMax":1.0},{"date":"2014-05-25T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-26T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-27T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-28T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-29T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-30T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-31T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-01T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-02T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-03T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-04T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-05T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-06T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-07T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-08T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-09T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-10T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-11T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-12T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-13T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-14T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-15T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-16T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-17T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-18T00:00:00-04:00","percentMax":1.0},{"date":"2014-06-19T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-20T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-21T00:00:00-04:00","percentMax":2.0},{"date":"2014-06-22T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-23T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-24T00:00:00-04:00","percentMax":2.0},{"date":"2014-06-25T00:00:00-04:00","percentMax":1.0},{"date":"2014-06-26T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-27T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-28T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-29T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-30T00:00:00-04:00","percentMax":5.0}],"recalls":[],"unknownTweets":[{"date":"2014-01-01T00:00:00-05:00","percentMax":2.0},{"date":"2014-01-02T00:00:00-05:00","percentMax":1.0},{"date":"2014-01-03T00:00:00-05:00","percentMax":2.0},{"date":"2014-01-04T00:00:00-05:00","percentMax":0.0},{"date":"2014-01-05T00:00:00-05:00","percentMax":1.0},{"date":"2014-01-06T00:00:00-05:00","percentMax":1.0},{"date":"2014-01-07T00:00:00-05:00","percentMax":0.0},{"date":"2014-01-08T00:00:00-05:00","percentMax":1.0},{"date":"2014-01-09T00:00:00-05:00","percentMax":1.0},{"date":"2014-01-10T00:00:00-05:00","percentMax":0.0},{"date":"2014-01-11T00:00:00-05:00","percentMax":0.0},{"date":"2014-01-12T00:00:00-05:00","percentMax":0.0},{"date":"2014-01-13T00:00:00-05:00","percentMax":0.0},{"date":"2014-01-14T00:00:00-05:00","percentMax":0.0},{"date":"2014-01-15T00:00:00-05:00","percentMax":1.0},{"date":"2014-01-16T00:00:00-05:00","percentMax":2.0},{"date":"2014-01-17T00:00:00-05:00","percentMax":1.0},{"date":"2014-01-18T00:00:00-05:00","percentMax":0.0},{"date":"2014-01-19T00:00:00-05:00","percentMax":3.0},{"date":"2014-01-20T00:00:00-05:00","percentMax":1.0},{"date":"2014-01-21T00:00:00-05:00","percentMax":1.0},{"date":"2014-01-22T00:00:00-05:00","percentMax":0.0},{"date":"2014-01-23T00:00:00-05:00","percentMax":1.0},{"date":"2014-01-24T00:00:00-05:00","percentMax":1.0},{"date":"2014-01-25T00:00:00-05:00","percentMax":3.0},{"date":"2014-01-26T00:00:00-05:00","percentMax":0.0},{"date":"2014-01-27T00:00:00-05:00","percentMax":0.0},{"date":"2014-01-28T00:00:00-05:00","percentMax":1.0},{"date":"2014-01-29T00:00:00-05:00","percentMax":0.0},{"date":"2014-01-30T00:00:00-05:00","percentMax":0.0},{"date":"2014-01-31T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-01T00:00:00-05:00","percentMax":2.0},{"date":"2014-02-02T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-03T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-04T00:00:00-05:00","percentMax":2.0},{"date":"2014-02-05T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-06T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-07T00:00:00-05:00","percentMax":3.0},{"date":"2014-02-08T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-09T00:00:00-05:00","percentMax":1.0},{"date":"2014-02-10T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-11T00:00:00-05:00","percentMax":2.0},{"date":"2014-02-12T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-13T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-14T00:00:00-05:00","percentMax":3.0},{"date":"2014-02-15T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-16T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-17T00:00:00-05:00","percentMax":1.0},{"date":"2014-02-18T00:00:00-05:00","percentMax":1.0},{"date":"2014-02-19T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-20T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-21T00:00:00-05:00","percentMax":2.0},{"date":"2014-02-22T00:00:00-05:00","percentMax":1.0},{"date":"2014-02-23T00:00:00-05:00","percentMax":1.0},{"date":"2014-02-24T00:00:00-05:00","percentMax":1.0},{"date":"2014-02-25T00:00:00-05:00","percentMax":1.0},{"date":"2014-02-26T00:00:00-05:00","percentMax":0.0},{"date":"2014-02-27T00:00:00-05:00","percentMax":1.0},{"date":"2014-02-28T00:00:00-05:00","percentMax":1.0},{"date":"2014-03-01T00:00:00-05:00","percentMax":0.0},{"date":"2014-03-02T00:00:00-05:00","percentMax":1.0},{"date":"2014-03-03T00:00:00-05:00","percentMax":0.0},{"date":"2014-03-04T00:00:00-05:00","percentMax":0.0},{"date":"2014-03-05T00:00:00-05:00","percentMax":1.0},{"date":"2014-03-06T00:00:00-05:00","percentMax":1.0},{"date":"2014-03-07T00:00:00-05:00","percentMax":0.0},{"date":"2014-03-08T00:00:00-05:00","percentMax":1.0},{"date":"2014-03-09T00:00:00-05:00","percentMax":0.0},{"date":"2014-03-10T00:00:00-04:00","percentMax":1.0},{"date":"2014-03-11T00:00:00-04:00","percentMax":3.0},{"date":"2014-03-12T00:00:00-04:00","percentMax":0.0},{"date":"2014-03-13T00:00:00-04:00","percentMax":1.0},{"date":"2014-03-14T00:00:00-04:00","percentMax":1.0},{"date":"2014-03-15T00:00:00-04:00","percentMax":0.0},{"date":"2014-03-16T00:00:00-04:00","percentMax":0.0},{"date":"2014-03-17T00:00:00-04:00","percentMax":1.0},{"date":"2014-03-18T00:00:00-04:00","percentMax":4.0},{"date":"2014-03-19T00:00:00-04:00","percentMax":2.0},{"date":"2014-03-20T00:00:00-04:00","percentMax":1.0},{"date":"2014-03-21T00:00:00-04:00","percentMax":0.0},{"date":"2014-03-22T00:00:00-04:00","percentMax":0.0},{"date":"2014-03-23T00:00:00-04:00","percentMax":0.0},{"date":"2014-03-24T00:00:00-04:00","percentMax":1.0},{"date":"2014-03-25T00:00:00-04:00","percentMax":4.0},{"date":"2014-03-26T00:00:00-04:00","percentMax":1.0},{"date":"2014-03-27T00:00:00-04:00","percentMax":2.0},{"date":"2014-03-28T00:00:00-04:00","percentMax":2.0},{"date":"2014-03-29T00:00:00-04:00","percentMax":0.0},{"date":"2014-03-30T00:00:00-04:00","percentMax":0.0},{"date":"2014-03-31T00:00:00-04:00","percentMax":0.0},{"date":"2014-04-01T00:00:00-04:00","percentMax":1.0},{"date":"2014-04-02T00:00:00-04:00","percentMax":2.0},{"date":"2014-04-03T00:00:00-04:00","percentMax":0.0},{"date":"2014-04-04T00:00:00-04:00","percentMax":1.0},{"date":"2014-04-05T00:00:00-04:00","percentMax":3.0},{"date":"2014-04-06T00:00:00-04:00","percentMax":1.0},{"date":"2014-04-07T00:00:00-04:00","percentMax":3.0},{"date":"2014-04-08T00:00:00-04:00","percentMax":6.0},{"date":"2014-04-09T00:00:00-04:00","percentMax":0.0},{"date":"2014-04-10T00:00:00-04:00","percentMax":2.0},{"date":"2014-04-11T00:00:00-04:00","percentMax":1.0},{"date":"2014-04-12T00:00:00-04:00","percentMax":3.0},{"date":"2014-04-13T00:00:00-04:00","percentMax":1.0},{"date":"2014-04-14T00:00:00-04:00","percentMax":1.0},{"date":"2014-04-15T00:00:00-04:00","percentMax":1.0},{"date":"2014-04-16T00:00:00-04:00","percentMax":2.0},{"date":"2014-04-17T00:00:00-04:00","percentMax":4.0},{"date":"2014-04-18T00:00:00-04:00","percentMax":2.0},{"date":"2014-04-19T00:00:00-04:00","percentMax":1.0},{"date":"2014-04-20T00:00:00-04:00","percentMax":0.0},{"date":"2014-04-21T00:00:00-04:00","percentMax":1.0},{"date":"2014-04-22T00:00:00-04:00","percentMax":1.0},{"date":"2014-04-23T00:00:00-04:00","percentMax":0.0},{"date":"2014-04-24T00:00:00-04:00","percentMax":1.0},{"date":"2014-04-25T00:00:00-04:00","percentMax":1.0},{"date":"2014-04-26T00:00:00-04:00","percentMax":0.0},{"date":"2014-04-27T00:00:00-04:00","percentMax":0.0},{"date":"2014-04-28T00:00:00-04:00","percentMax":0.0},{"date":"2014-04-29T00:00:00-04:00","percentMax":0.0},{"date":"2014-04-30T00:00:00-04:00","percentMax":2.0},{"date":"2014-05-01T00:00:00-04:00","percentMax":1.0},{"date":"2014-05-02T00:00:00-04:00","percentMax":2.0},{"date":"2014-05-03T00:00:00-04:00","percentMax":2.0},{"date":"2014-05-04T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-05T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-06T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-07T00:00:00-04:00","percentMax":4.0},{"date":"2014-05-08T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-09T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-10T00:00:00-04:00","percentMax":1.0},{"date":"2014-05-11T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-12T00:00:00-04:00","percentMax":4.0},{"date":"2014-05-13T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-14T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-15T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-16T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-17T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-18T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-19T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-20T00:00:00-04:00","percentMax":5.0},{"date":"2014-05-21T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-22T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-23T00:00:00-04:00","percentMax":1.0},{"date":"2014-05-24T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-25T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-26T00:00:00-04:00","percentMax":2.0},{"date":"2014-05-27T00:00:00-04:00","percentMax":1.0},{"date":"2014-05-28T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-29T00:00:00-04:00","percentMax":0.0},{"date":"2014-05-30T00:00:00-04:00","percentMax":5.0},{"date":"2014-05-31T00:00:00-04:00","percentMax":2.0},{"date":"2014-06-01T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-02T00:00:00-04:00","percentMax":1.0},{"date":"2014-06-03T00:00:00-04:00","percentMax":3.0},{"date":"2014-06-04T00:00:00-04:00","percentMax":9.0},{"date":"2014-06-05T00:00:00-04:00","percentMax":2.0},{"date":"2014-06-06T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-07T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-08T00:00:00-04:00","percentMax":1.0},{"date":"2014-06-09T00:00:00-04:00","percentMax":1.0},{"date":"2014-06-10T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-11T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-12T00:00:00-04:00","percentMax":1.0},{"date":"2014-06-13T00:00:00-04:00","percentMax":1.0},{"date":"2014-06-14T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-15T00:00:00-04:00","percentMax":1.0},{"date":"2014-06-16T00:00:00-04:00","percentMax":1.0},{"date":"2014-06-17T00:00:00-04:00","percentMax":1.0},{"date":"2014-06-18T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-19T00:00:00-04:00","percentMax":1.0},{"date":"2014-06-20T00:00:00-04:00","percentMax":1.0},{"date":"2014-06-21T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-22T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-23T00:00:00-04:00","percentMax":1.0},{"date":"2014-06-24T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-25T00:00:00-04:00","percentMax":2.0},{"date":"2014-06-26T00:00:00-04:00","percentMax":1.0},{"date":"2014-06-27T00:00:00-04:00","percentMax":1.0},{"date":"2014-06-28T00:00:00-04:00","percentMax":1.0},{"date":"2014-06-29T00:00:00-04:00","percentMax":0.0},{"date":"2014-06-30T00:00:00-04:00","percentMax":0.0}]}
    var mockFDAStats = { "totalAdverseEvents": 3095, "totalRecalls": 0 };
    var mockDrugDetail = {"brandName":"Advair","description":"11 DESCRIPTION ADVAIR DISKUS 100/50, ADVAIR DISKUS 250/50, and ADVAIR DISKUS 500/50 are combinations of fluticasone propionate and salmeterol xinafoate. One active component of ADVAIR DISKUS is fluticasone propionate, a corticosteroid having the chemical name S-(fluoromethyl) 6α,9-difluoro-11β,17-dihydroxy-16α-methyl-3-oxoandrosta-1,4-diene-17β-carbothioate, 17-propionate and the following chemical structure: Fluticasone propionate is a white powder with a molecular weight of 500.6, and the empirical formula is C25H31F3O5S. It is practically insoluble in water, freely soluble in dimethyl sulfoxide and dimethylformamide, and slightly soluble in methanol and 95% ethanol. The other active component of ADVAIR DISKUS is salmeterol xinafoate, a beta2-adrenergic bronchodilator. Salmeterol xinafoate is the racemic form of the 1-hydroxy-2-naphthoic acid salt of salmeterol. The chemical name of salmeterol xinafoate is 4-hydroxy-α1-[[[6-(4-phenylbutoxy)hexyl]amino]methyl]-1,3-benzenedimethanol, 1-hydroxy-2-naphthalenecarboxylate, and it has the following chemical structure: Salmeterol xinafoate is a white powder with a molecular weight of 603.8, and the empirical formula is C25H37NO4•C11H8O3. It is freely soluble in methanol; slightly soluble in ethanol, chloroform, and isopropanol; and sparingly soluble in water. ADVAIR DISKUS 100/50, ADVAIR DISKUS 250/50, and ADVAIR DISKUS 500/50 are specially designed plastic devices containing a double-foil blister strip of a powder formulation of fluticasone propionate and salmeterol xinafoate intended for oral inhalation only. Each blister on the double-foil strip within the device contains 100, 250, or 500 mcg of microfine fluticasone propionate and 72.5 mcg of microfine salmeterol xinafoate salt, equivalent to 50 mcg of salmeterol base, in 12.5 mg of formulation containing lactose (which contains milk proteins). Each blister contains 1 complete dose of both medications. After a blister containing medication is opened by activating the device, the medication is dispersed into the airstream created by the patient inhaling through the mouthpiece. Under standardized in vitro test conditions, ADVAIR DISKUS delivers 93, 233, and 465 mcg of fluticasone propionate and 45 mcg of salmeterol base per blister from ADVAIR DISKUS 100/50, 250/50, and 500/50, respectively, when tested at a flow rate of 60 L/min for 2 seconds. In adult patients with obstructive lung disease and severely compromised lung function (mean FEV1 20% to 30% of predicted), mean peak inspiratory flow (PIF) through a DISKUS® inhalation device was 82.4 L/min (range: 46.1 to 115.3 L/min). Inhalation profiles for adolescent (N = 13, aged 12 to 17 years) and adult (N = 17, aged 18 to 50 years) patients with asthma inhaling maximally through the DISKUS device show mean PIF of 122.2 L/min (range: 81.6 to 152.1 L/min). Inhalation profiles for pediatric patients with asthma inhaling maximally through the DISKUS device show a mean PIF of 75.5 L/min (range: 49.0 to 104.8 L/min) for the 4-year-old patient set (N = 20) and 107.3 L/min (range: 82.8 to 125.6 L/min) for the 8-year-old patient set (N = 20). The actual amount of drug delivered to the lung will depend on patient factors, such as inspiratory flow profile. fluticasone propionate chemical structure salmeterol xinafoate chemical structure","genericName":"FLUTICASONE PROPIONATE AND SALMETEROL","pharmacodynamics":"12.2 Pharmacodynamics ADVAIR DISKUS: Healthy Subjects: Cardiovascular Effects: Since systemic pharmacodynamic effects of salmeterol are not normally seen at the therapeutic dose, higher doses were used to produce measurable effects. Four (4) studies were conducted in healthy adult subjects: (1) a single-dose crossover study using 2 inhalations of ADVAIR DISKUS 500/50, fluticasone propionate powder 500 mcg and salmeterol powder 50 mcg given concurrently, or fluticasone propionate powder 500 mcg given alone, (2) a cumulative dose study using 50 to 400 mcg of salmeterol powder given alone or as ADVAIR DISKUS 500/50, (3) a repeat-dose study for 11 days using 2 inhalations twice daily of ADVAIR DISKUS 250/50, fluticasone propionate powder 250 mcg, or salmeterol powder 50 mcg, and (4) a single-dose study using 5 inhalations of ADVAIR DISKUS 100/50, fluticasone propionate powder 100 mcg alone, or placebo. In these studies no significant differences were observed in the pharmacodynamic effects of salmeterol (pulse rate, blood pressure, QTc interval, potassium, and glucose) whether the salmeterol was given as ADVAIR DISKUS, concurrently with fluticasone propionate from separate inhalers, or as salmeterol alone. The systemic pharmacodynamic effects of salmeterol were not altered by the presence of fluticasone propionate in ADVAIR DISKUS. The potential effect of salmeterol on the effects of fluticasone propionate on the HPA axis was also evaluated in these studies. HPA Axis Effects: No significant differences across treatments were observed in 24-hour urinary cortisol excretion and, where measured, 24-hour plasma cortisol AUC. The systemic pharmacodynamic effects of fluticasone propionate were not altered by the presence of salmeterol in ADVAIR DISKUS in healthy subjects. Asthma: Adults and Adolescent Patients: Cardiovascular Effects: In clinical studies with ADVAIR DISKUS in adult and adolescent patients aged 12 years and older with asthma, no significant differences were observed in the systemic pharmacodynamic effects of salmeterol (pulse rate, blood pressure, QTc interval, potassium, and glucose) whether the salmeterol was given alone or as ADVAIR DISKUS. In 72 adolescent and adult patients with asthma given either ADVAIR DISKUS 100/50 or ADVAIR DISKUS 250/50, continuous 24-hour electrocardiographic monitoring was performed after the first dose and after 12 weeks of therapy, and no clinically significant dysrhythmias were noted. HPA Axis Effects: In a 28-week study in adolescent and adult patients with asthma, ADVAIR DISKUS 500/50 twice daily was compared with the concurrent use of salmeterol powder 50 mcg plus fluticasone propionate powder 500 mcg from separate inhalers or fluticasone propionate powder 500 mcg alone. No significant differences across treatments were observed in serum cortisol AUC after 12 weeks of dosing or in 24-hour urinary cortisol excretion after 12 and 28 weeks. In a 12-week study in adolescent and adult patients with asthma, ADVAIR DISKUS 250/50 twice daily was compared with fluticasone propionate powder 250 mcg alone, salmeterol powder 50 mcg alone, and placebo. For most patients, the ability to increase cortisol production in response to stress, as assessed by 30-minute cosyntropin stimulation, remained intact with ADVAIR DISKUS. One patient (3%) who received ADVAIR DISKUS 250/50 had an abnormal response (peak serum cortisol <18 mcg/dL) after dosing, compared with 2 patients (6%) who received placebo, 2 patients (6%) who received fluticasone propionate 250 mcg, and no patients who received salmeterol. In a repeat-dose, 3-way crossover study, 1 inhalation twice daily of ADVAIR DISKUS 100/50, FLOVENT® DISKUS® 100 mcg (fluticasone propionate inhalation powder, 100 mcg), or placebo was administered to 20 adolescent and adult patients with asthma. After 28 days of treatment, geometric mean serum cortisol AUC over 12 hours showed no significant difference between ADVAIR DISKUS and FLOVENT DISKUS or between either active treatment and placebo. Pediatric Patients: HPA Axis Effects: In a 12-week study in patients with asthma aged 4 to 11 years who were receiving inhaled corticosteroids at study entry, ADVAIR DISKUS 100/50 twice daily was compared with fluticasone propionate inhalation powder 100 mcg administered twice daily via the DISKUS. The values for 24-hour urinary cortisol excretion at study entry and after 12 weeks of treatment were similar within each treatment group. After 12 weeks, 24-hour urinary cortisol excretion was also similar between the 2 groups. Chronic Obstructive Pulmonary Disease: Cardiovascular Effects:In clinical studies with ADVAIR DISKUS in patients with COPD, no significant differences were seen in pulse rate, blood pressure, potassium, and glucose between ADVAIR DISKUS, the individual components of ADVAIR DISKUS, and placebo. In a study of ADVAIR DISKUS 250/50, 8 patients (2 [1.1%] in the group given ADVAIR DISKUS 250/50, 1 [0.5%] in the fluticasone propionate 250-mcg group, 3 [1.7%] in the salmeterol group, and 2 [1.1%] in the placebo group) had QTc intervals >470 msec at least 1 time during the treatment period. Five (5) of these 8 patients had a prolonged QTc interval at baseline. In a 24-week study, 130 patients with COPD received continuous 24-hour electrocardiographic monitoring prior to the first dose and after 4 weeks of twice-daily treatment with either ADVAIR DISKUS 500/50, fluticasone propionate powder 500 mcg, salmeterol powder 50 mcg, or placebo. No significant differences in ventricular or supraventricular arrhythmias and heart rate were observed among the groups treated with ADVAIR DISKUS 500/50, the individual components, or placebo. One (1) subject in the fluticasone propionate group experienced atrial flutter/atrial fibrillation, and 1 subject in the group given ADVAIR DISKUS 500/50 experienced heart block. There were 3 cases of nonsustained ventricular tachycardia (1 each in the placebo, salmeterol, and fluticasone propionate 500-mcg treatment groups). In 24-week clinical studies in patients with COPD, the incidence of clinically significant electrocardiogram (ECG) abnormalities (myocardial ischemia, ventricular hypertrophy, clinically significant conduction abnormalities, clinically significant arrhythmias) was lower for patients who received salmeterol (1%, 9 of 688 patients who received either salmeterol 50 mcg or ADVAIR DISKUS) compared with placebo (3%, 10 of 370 patients). No significant differences with salmeterol 50 mcg alone or in combination with fluticasone propionate as ADVAIR DISKUS 500/50 were observed on pulse rate and systolic and diastolic blood pressure in a subset of patients with COPD who underwent 12-hour serial vital sign measurements after the first dose (N = 183) and after 12 weeks of therapy (N = 149). Median changes from baseline in pulse rate and systolic and diastolic blood pressure were similar to those seen with placebo. HPA Axis Effects: Short-cosyntropin stimulation testing was performed both at Day 1 and Endpoint in 101 patients with COPD receiving twice-daily ADVAIR DISKUS 250/50, fluticasone propionate powder 250 mcg, salmeterol powder 50 mcg, or placebo. For most patients, the ability to increase cortisol production in response to stress, as assessed by short cosyntropin stimulation, remained intact with ADVAIR DISKUS 250/50. One (1) patient (3%) who received ADVAIR DISKUS 250/50 had an abnormal stimulated cortisol response (peak cortisol <14.5 mcg/dL assessed by high-performance liquid chromatography) after dosing, compared with 2 patients (9%) who received fluticasone propionate 250 mcg, 2 patients (7%) who received salmeterol 50 mcg, and 1 patient (4%) who received placebo following 24 weeks of treatment or early discontinuation from study. After 36 weeks of dosing, serum cortisol concentrations in a subset of patients with COPD (n = 83) were 22% lower in patients receiving ADVAIR DISKUS 500/50 and 21% lower in patients receiving fluticasone propionate 500 mcg than in patients receiving placebo. Other Fluticasone Propionate Products: Asthma: HPA Axis Effects: In clinical trials with fluticasone propionate inhalation powder using doses up to and including 250 mcg twice daily, occasional abnormal short cosyntropin tests (peak serum cortisol <18 mcg/dL assessed by radioimmunoassay) were noted both in patients receiving fluticasone propionate and in patients receiving placebo. The incidence of abnormal tests at 500 mcg twice daily was greater than placebo. In a 2-year study carried out with the DISKHALER® inhalation device in 64 patients with mild, persistent asthma (mean FEV1 91% of predicted) randomized to fluticasone propionate 500 mcg twice daily or placebo, no patient receiving fluticasone propionate had an abnormal response to 6-hour cosyntropin infusion (peak serum cortisol <18 mcg/dL). With a peak cortisol threshold of <35 mcg/dL, 1 patient receiving fluticasone propionate (4%) had an abnormal response at 1 year; repeat testing at 18 months and 2 years was normal. Another patient receiving fluticasone propionate (5%) had an abnormal response at 2 years. No patient on placebo had an abnormal response at 1 or 2 years. Chronic Obstructive Pulmonary Disease: HPA Axis Effects: After 4 weeks of dosing, the steady-state fluticasone propionate pharmacokinetics and serum cortisol levels were described in a subset of patients with COPD (n = 86) randomized to twice-daily fluticasone propionate inhalation powder via the DISKUS 500 mcg, fluticasone propionate inhalation powder 250 mcg, or placebo. Serial serum cortisol concentrations were measured across a 12-hour dosing interval. Serum cortisol concentrations following 250- and 500-mcg twice-daily dosing were 10% and 21% lower than placebo, respectively, indicating a dose-dependent increase in systemic exposure to fluticasone propionate. Other Salmeterol Xinafoate Products: Asthma: Cardiovascular Effects: Inhaled salmeterol, like other beta-adrenergic agonist drugs, can produce dose-related cardiovascular effects and effects on blood glucose and/or serum potassium [see Warnings and Precautions (5.12, 5.18)]. The cardiovascular effects (heart rate, blood pressure) associated with salmeterol occur with similar frequency, and are of similar type and severity, as those noted following albuterol administration. The effects of rising doses of inhaled salmeterol and standard inhaled doses of albuterol were studied in volunteers and in patients with asthma. Salmeterol doses up to 84 mcg administered as inhalation aerosol resulted in heart rate increases of 3 to 16 beats/min, about the same as albuterol dosed at 180 mcg by inhalation aerosol (4 to 10 beats/min). Adolescent and adult patients receiving 50-mcg doses of salmeterol inhalation powder (N = 60) underwent continuous electrocardiographic monitoring during two 12-hour periods after the first dose and after 1 month of therapy, and no clinically significant dysrhythmias were noted. Concomitant Use of ADVAIR DISKUS With Other Respiratory Medications: Short-Acting Beta2-Agonists: In clinical trials with patients with asthma, the mean daily need for albuterol by 166 adult and adolescent patients aged 12 years and older using ADVAIR DISKUS was approximately 1.3 inhalations/day, and ranged from 0 to 9 inhalations/day. Five percent (5%) of patients using ADVAIR DISKUS in these trials averaged 6 or more inhalations per day over the course of the 12-week trials. No increase in frequency of cardiovascular adverse reactions was observed among patients who averaged 6 or more inhalations per day. In a COPD clinical trial, the mean daily need for albuterol for patients using ADVAIR DISKUS 250/50 was 4.1 inhalations/day. Twenty-six percent (26%) of patients using ADVAIR DISKUS 250/50 averaged 6 or more inhalations per day over the course of the 24-week trial. No increase in frequency of cardiovascular adverse reactions was observed among patients who averaged 6 or more inhalations of albuterol per day. Methylxanthines: The concurrent use of intravenously or orally administered methylxanthines (e.g., aminophylline, theophylline) by adult and adolescent patients aged 12 years and older receiving ADVAIR DISKUS has not been completely evaluated. In clinical trials with patients with asthma, 39 patients receiving ADVAIR DISKUS 100/50, 250/50, or 500/50 twice daily concurrently with a theophylline product had adverse event rates similar to those in 304 patients receiving ADVAIR DISKUS without theophylline. Similar results were observed in patients receiving salmeterol 50 mcg plus fluticasone propionate 500 mcg twice daily concurrently with a theophylline product (n = 39) or without theophylline (n = 132). In a COPD clinical trial, 17 patients receiving ADVAIR DISKUS 250/50 twice daily concurrently with a theophylline product had adverse event rates similar to those in 161 patients receiving ADVAIR DISKUS without theophylline. Based on the available data, the concomitant administration of methylxanthines with ADVAIR DISKUS did not alter the observed adverse event profile. Fluticasone Propionate Nasal Spray: In adult and adolescent patients aged 12 years and older taking ADVAIR DISKUS in clinical trials, no difference in the profile of adverse events or HPA axis effects was noted between patients who were taking FLONASE® (fluticasone propionate) Nasal Spray, 50 mcg concurrently (n = 46) and those who were not (n = 130)."};
    var mockRanking = { "adverseEventsRank": 37, "negativeTweetsRank": 12, "positiveTweetsRank": 43, "recallsRank": 25, "unknownTweetsRank": 56 };

    beforeEach(inject(function(_DrugInfo_, $q) {
        DrugInfo = _DrugInfo_;
        var drugList = $q.defer();
        drugList.resolve({ data: mockDrugListData });
        spyOn(DrugInfo, "getDrugList").and.returnValue(drugList.promise);
        var tweetData = $q.defer();
        tweetData.resolve({ data: mockTweetData });
        spyOn(DrugInfo, "getTwitterStats").and.returnValue(tweetData.promise);
        var chartData = $q.defer();
        chartData.resolve({ data: mockChartData });
        spyOn(DrugInfo, "getChart").and.returnValue(chartData.promise);
        var fdaStats = $q.defer();
        fdaStats.resolve({ data: mockFDAStats });
        spyOn(DrugInfo, "getFDAStats").and.returnValue(fdaStats.promise);
        var drugDetail = $q.defer();
        drugDetail.resolve({ data: mockDrugDetail });
        spyOn(DrugInfo, "getDrug").and.returnValue(drugDetail.promise);
        var ranking = $q.defer();
        ranking.resolve({ data: mockRanking });
        spyOn(DrugInfo, "getRankings").and.returnValue(ranking.promise);
    }));

    var Trends;
    var mockTrendsPositive = [{
        brandName: "Plavix",
        percentPositive: 99,
        percentNegative: 0
    }];
    var mockTrendsNegative = [{
        brandName: "Lipitor",
        percentPositive: 4,
        percentNegative: 99
    }];
    var mockTrendsAdverse = [{
        brandName: "Amoxil",
        count: 5676
    }];
    var mockOverallAdvair = { "brandName": "Advair", "slope": 1.0541396871865142E-5 };
    var mockOverallLipitor = { "brandName": "Lipitor", "slope": -1.0541396871865142E-5 };
    beforeEach(inject(function(_Trends_, $q) {
        Trends = _Trends_;
        var positive = $q.defer();
        positive.resolve({ data: mockTrendsPositive });
        spyOn(Trends, "getTopPositive").and.returnValue(positive.promise);
        var negative = $q.defer();
        negative.resolve({ data: mockTrendsNegative });
        spyOn(Trends, "getTopNegative").and.returnValue(negative.promise);
        var adverse = $q.defer();
        adverse.resolve({ data: mockTrendsAdverse });
        spyOn(Trends, "getMostAdverseEvents").and.returnValue(adverse.promise);
        var advair = $q.defer();
        advair.resolve({ data: mockOverallAdvair });
        var lipitor = $q.defer();
        lipitor.resolve({ data: mockOverallLipitor });
        spyOn(Trends, "getOverall").and.callFake(function(drug) {
            if (drug === "Advair") {
                return advair.promise;
            }
            return lipitor.promise;
        });
    }));

    var $controller = null;
    beforeEach(inject(function(_$controller_) {
        $controller = _$controller_;
    }));

    describe('ClaireController', function() {
        var $scope, ctrl, $location;
        beforeEach(inject(function($rootScope, _$location_) {
            $scope = $rootScope.$new();
            ctrl = $controller("ClaireCtrl", { $scope: $scope, DrugInfo: DrugInfo, Trends: Trends });
            $location = _$location_;
        }));

        it('should exist', function() {
            expect(!!ctrl).toBe(true);
        });

        describe('when created', function() {
            it('should define a drug property', function() {
                expect($scope.drug instanceof Object).toBe(true);
            });

            it('should define a trends property', function() {
                expect($scope.trends instanceof Object).toBe(true);
                expect($scope.trends.topPositive instanceof Array).toBe(true);
                expect($scope.trends.topNegative instanceof Array).toBe(true);
                expect($scope.trends.mostAdverseEvents instanceof Array).toBe(true);
            });

            it('should define a search method', function() {
                expect(typeof $scope.onSearch).toBe('function');
            });

            it('should populate the drug list', function() {
                $scope.$digest();

                expect(DrugInfo.getDrugList).toHaveBeenCalled();
                expect($scope.drugList).toBe(mockDrugListData);
            });

            it('should get the positive trend', function() {
                $scope.$digest();

                expect(Trends.getTopPositive).toHaveBeenCalled();
                expect($scope.trends.topPositive).toBe(mockTrendsPositive);
            });

            it('should get the negative trend', function() {
                $scope.$digest();

                expect(Trends.getTopNegative).toHaveBeenCalled();
                expect($scope.trends.topNegative).toBe(mockTrendsNegative);
            });

            it('should get the most adverse trend', function() {
                $scope.$digest();

                expect(Trends.getMostAdverseEvents).toHaveBeenCalled();
                expect($scope.trends.mostAdverseEvents).toBe(mockTrendsAdverse);
            });
        });

        describe('when on the details page', function() {
            it('should set the url to include the selected drug name', function() {
                $scope.onSearch("Advair");
                $scope.$digest();

                expect($location.path()).toBe('/detail/Advair');
            });

            describe('after searching', function() {
                it('should set the selected drug', function() {
                    $scope.onSearch("Advair");
                    $scope.$digest();

                    $controller("ClaireCtrl", { $scope: $scope, DrugInfo: DrugInfo, Trends: Trends });

                    expect($scope.drug.selected).toBe('Advair');
                });

                it('should set the twitter stats', function() {
                    $scope.onSearch("Advair");
                    $scope.$digest();

                    $controller("ClaireCtrl", { $scope: $scope, DrugInfo: DrugInfo, Trends: Trends });
                    $scope.$digest();

                    expect(DrugInfo.getTwitterStats).toHaveBeenCalled();
                    expect($scope.twitterStats).toBe(mockTweetData);
                });

                it('should set the fda stats', function() {
                    $scope.onSearch("Advair");
                    $scope.$digest();

                    $controller("ClaireCtrl", { $scope: $scope, DrugInfo: DrugInfo, Trends: Trends });
                    $scope.$digest();

                    expect(DrugInfo.getFDAStats).toHaveBeenCalled();
                    expect($scope.fdaStats).toBe(mockFDAStats);
                });

                it('should set the drug details', function() {
                    $scope.onSearch("Advair");
                    $scope.$digest();

                    $controller("ClaireCtrl", { $scope: $scope, DrugInfo: DrugInfo, Trends: Trends });
                    $scope.$digest();

                    expect(DrugInfo.getDrug).toHaveBeenCalled();
                    expect($scope.drug).toBe(mockDrugDetail);
                });

                it('should set the main chart data', function() {
                    $scope.onSearch("Advair");
                    $scope.$digest();

                    $controller("ClaireCtrl", { $scope: $scope, DrugInfo: DrugInfo, Trends: Trends });
                    $scope.$digest();

                    expect(DrugInfo.getChart).toHaveBeenCalled();
                    expect($scope.mainChartData).not.toBe(undefined);
                });

                it('should get a upward social trend icon for a drug with a positive slope', function() {
                    $scope.onSearch("Advair");
                    $scope.$digest();

                    $controller("ClaireCtrl", { $scope: $scope, DrugInfo: DrugInfo, Trends: Trends });
                    $scope.$digest();

                    expect(Trends.getOverall).toHaveBeenCalled();
                    expect($scope.trends.image).toBe("images/trend-up.png");
                });

                it('should get a downward social trend icon for a drug with a positive slope', function() {
                    $scope.onSearch("Lipitor");
                    $scope.$digest();

                    $controller("ClaireCtrl", { $scope: $scope, DrugInfo: DrugInfo, Trends: Trends });
                    $scope.$digest();

                    expect(Trends.getOverall).toHaveBeenCalled();
                    expect($scope.trends.image).toBe("images/trend-down.png");
                });
            });
        });
    });
});
